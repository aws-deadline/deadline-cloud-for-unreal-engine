<component>
    <name>deadline_cloud_for_unreal_engine</name>
    <description>Deadline Cloud for Unreal Engine 5.2.1</description>
    <detailedDescription>Unreal Engine plugin for submitting jobs to Amazon Deadline Cloud. Compatible with Unreal Engine 5.2.1</detailedDescription>
    <canBeEdited>1</canBeEdited>
    <selected>0</selected>
    <show>1</show>
    <folderList>
        <folder>
            <description>Program Files</description>
            <destination>${unreal_plugin_dir}/DeadlineCloudPlugin</destination>
            <name>unreal</name>
            <platforms>all</platforms>
            <distributionFileList>
                <distributionDirectory allowWildcards="1">
                    <origin>components/deadline-cloud-for-unreal-engine/src/*</origin>
                    <filterEvaluationLogic>or</filterEvaluationLogic>
                    <onPackingFilterList>
                        <fileNameFilter pattern="*/deadline/unreal_submitter/*" logic="matches" patternType="glob"/>
			            <fileNameFilter pattern="*/unreal_plugin/*" logic="matches" patternType="glob"/>
                    </onPackingFilterList>
                </distributionDirectory>
            </distributionFileList>
        </folder>
        <folder>
             <description>Dependency Files</description>
             <destination>${unreal_plugin_dir}/tmp/unreal_deps</destination>
             <name>unrealdeps</name>
             <platforms>all</platforms>
             <distributionFileList>
                 <distributionDirectory allowWildcards="1">
                     <origin>components/deadline-cloud-for-unreal-engine/dependency_bundle</origin>
                 </distributionDirectory>
             </distributionFileList>
         </folder>
    </folderList>
    <initializationActionList>
        <setInstallerVariable name="all_components" value="${all_components} deadline_cloud_for_unreal_engine"/>
	</initializationActionList>
	<parameterList>
		<stringParameter name="deadline_cloud_for_unreal_engine_summary" ask="0" cliOptionShow="0">
			<value>Deadline Cloud for Unreal Engine 5.2.1
- Compatible with Unreal Engine 5.2.1
- Install the integrated Unreal Engine submitter files to the installation directory
</value>
		</stringParameter>
        <directoryParameter>
            <name>unreal_plugin_dir</name>
            <description>Path to the Unreal Plugin directory</description>
            <explanation>Path to the Unreal Plugin directory</explanation>
            <value></value>
            <default>C:\Program Files\Epic Games\UE_5.2\Engine\Plugins</default>
            <allowEmptyValue>0</allowEmptyValue>
            <ask>yes</ask>
            <cliOptionName>prefix</cliOptionName>
            <mustBeWritable>yes</mustBeWritable>
            <mustExist>1</mustExist>
            <width>40</width>
        </directoryParameter>
	</parameterList>
    <postInstallationActionList>
        <unzip>
            <destinationDirectory>${unreal_plugin_dir}</destinationDirectory>
            <zipFile>${unreal_plugin_dir}/tmp/unreal_deps/dependency_bundle/deadline_cloud_for_unreal_engine_submitter-deps-${unreal_deps_platform}.zip</zipFile>
        </unzip>
        <deleteFile>
            <path>${unreal_plugin_dir}/tmp/unreal_deps</path>
        </deleteFile>
    </postInstallationActionList>
    
</component>